import{j as e}from"./framer-motion-CP1hDTrg.js";import{r as t}from"./react-vendor-CFOUl9e9.js";import{u as r,b as a}from"./index-D8_-wRmV.js";import"./lucide-Jis9dCxC.js";function s(){const[,s]=r(),{login:o}=a(),[d,i]=t.useState(""),[n,l]=t.useState(""),[m,c]=t.useState(""),[g,u]=t.useState(!1);return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-light-pink dark:bg-gray-900",children:e.jsxs("div",{className:"bg-light-pink-100 dark:bg-gray-800 p-8 rounded-lg shadow-md w-full max-w-sm",children:[e.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 dark:text-white mb-6",children:"Login"}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),c(""),u(!0),!(t=d,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(e=>{const t=e.replace(/\D/g,"");return/^(?:\+?91)?[6-9]\d{9}$/.test(t)&&t.length>=10&&t.length<=13})(d)))return c("Please enter a valid email address or Indian phone number"),void u(!1);var t;try{const e=await o(d,n);setTimeout(()=>{"admin"===(null==e?void 0:e.role)?s("/dashboard"):s("/employee-dashboard")},100)}catch(r){c(r.message||"Invalid email/phone or password"),u(!1)}},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"emailOrPhone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email or Phone Number"}),e.jsx("input",{type:"text",id:"emailOrPhone",className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:d,onChange:e=>i(e.target.value),required:!0,disabled:g,placeholder:"your@email.com or 9876543210"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),e.jsx("input",{type:"password",id:"password",className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:n,onChange:e=>l(e.target.value),required:!0,disabled:g}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Password format: (8+ chars, uppercase, lowercase, number, special character)"})]}),m&&e.jsx("p",{className:"text-red-500 text-sm text-center",children:m}),e.jsx("button",{type:"submit",disabled:g,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Logging in...":"Login"})]}),e.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account? ",e.jsx("a",{href:"/signup",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign Up"})]})]})})}export{s as default};
